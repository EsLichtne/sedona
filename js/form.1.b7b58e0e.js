!function(){"use strict";const e=document.querySelector(".form"),t=new Pristine(e,{classTo:"form__item",errorClass:"form__item--error",errorTextParent:"form__item",errorTextTag:"p",errorTextClass:"form__error"}),r=e=>{(e=>{const t=document.querySelector(`#${e}`).content.querySelector(".message").cloneNode(!0),r=t.querySelector(".message__button");document.body.appendChild(t);const o=()=>{t.remove(),document.dispatchEvent(new Event("removeMessage"))};document.addEventListener("click",(e=>{e.target!==t&&e.target!==r||o()})),document.addEventListener("keydown",(e=>{e.key&&e.key.startsWith("Esc")&&o()}))})(e)},o=document.querySelector(".form"),c=o.querySelector(".form__button"),n=e=>{c.disabled=e,c.textContent=e?"Отправляем...":"Отправить отзыв"};c.addEventListener("click",(e=>{e.preventDefault(),t.validate()?(n(!0),setTimeout((()=>{r("success"),o.querySelectorAll("input").forEach((e=>{e.value=""})),o.querySelector("textarea").value="Опишите подробно все свои восторги",o.querySelectorAll(".radio-input")[0].checked=!0,o.querySelectorAll(".checkbox-input").forEach((e=>{e.checked=!1}))}),2e3)):r("error")})),document.addEventListener("removeMessage",(()=>{n(!1)}))}();